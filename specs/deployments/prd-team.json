{
  "$schema": "https://raw.githubusercontent.com/agentplexus/multi-agent-spec/main/schema/deployment/deployment.schema.json",
  "team": "prd-agent-team",
  "targets": [
    {
      "name": "local-claude",
      "platform": "claude-code",
      "mode": "single-process",
      "priority": "p1",
      "output": ".claude/agents",
      "config": {
        "agentDir": ".claude/agents",
        "format": "markdown"
      }
    },
    {
      "name": "dist-claude",
      "platform": "claude-code",
      "mode": "single-process",
      "priority": "p1",
      "output": "plugins/claude/agents",
      "config": {
        "agentDir": "plugins/claude/agents",
        "format": "markdown"
      }
    },
    {
      "name": "local-kiro",
      "platform": "kiro-cli",
      "mode": "single-process",
      "priority": "p1",
      "output": "plugins/kiro/agents",
      "config": {
        "pluginDir": "plugins/kiro",
        "format": "json"
      }
    },
    {
      "name": "local-gemini",
      "platform": "gemini-cli",
      "mode": "single-process",
      "priority": "p2",
      "output": "plugins/gemini",
      "config": {
        "model": "gemini-2.0-flash",
        "configDir": ".gemini"
      }
    },
    {
      "name": "adk-server",
      "platform": "adk-go",
      "mode": "distributed",
      "priority": "p2",
      "output": "deploy/adk",
      "runtime": {
        "defaults": {
          "timeout": "10m",
          "retry": {
            "max_attempts": 3,
            "backoff": "exponential",
            "initial_delay": "2s",
            "max_delay": "1m"
          }
        },
        "steps": {
          "discovery-problem": {
            "timeout": "15m"
          },
          "discovery-users": {
            "timeout": "15m"
          },
          "discovery-market": {
            "timeout": "15m"
          },
          "solution-design": {
            "timeout": "20m",
            "retry": {
              "max_attempts": 2
            }
          },
          "prd-synthesis": {
            "timeout": "30m",
            "retry": {
              "max_attempts": 2
            }
          },
          "review-board": {
            "timeout": "20m"
          },
          "quality-scoring": {
            "timeout": "10m"
          }
        },
        "observability": {
          "tracing": {
            "enabled": true,
            "exporter": "otlp",
            "endpoint": "http://localhost:4317"
          },
          "metrics": {
            "enabled": true,
            "exporter": "prometheus"
          },
          "logging": {
            "level": "info",
            "format": "json"
          }
        }
      },
      "config": {
        "model": "gemini-2.0-flash",
        "serverPort": 8080,
        "sessionStore": "redis"
      }
    },
    {
      "name": "aws-bedrock",
      "platform": "aws-agentcore",
      "mode": "serverless",
      "priority": "p2",
      "output": "deploy/cdk",
      "runtime": {
        "defaults": {
          "timeout": "10m",
          "retry": {
            "max_attempts": 3,
            "backoff": "exponential"
          }
        },
        "steps": {
          "prd-synthesis": {
            "timeout": "30m",
            "resources": {
              "memory": "2048Mi"
            }
          },
          "review-board": {
            "timeout": "20m",
            "resources": {
              "memory": "1536Mi"
            }
          }
        }
      },
      "config": {
        "region": "us-east-1",
        "foundationModel": "anthropic.claude-3-5-sonnet-20241022-v2:0",
        "lambdaRuntime": "python3.11"
      }
    },
    {
      "name": "crewai-local",
      "platform": "crewai",
      "mode": "single-process",
      "priority": "p2",
      "output": "deploy/crewai",
      "config": {
        "model": "gpt-4",
        "verbose": true,
        "memory": true,
        "processType": "hierarchical",
        "maxIterations": 15
      }
    },
    {
      "name": "k8s-production",
      "platform": "kubernetes",
      "mode": "distributed",
      "priority": "p3",
      "output": "deploy/k8s",
      "runtime": {
        "defaults": {
          "timeout": "10m",
          "retry": {
            "max_attempts": 3,
            "backoff": "exponential",
            "initial_delay": "2s",
            "max_delay": "2m"
          },
          "resources": {
            "cpu": "500m",
            "memory": "512Mi"
          }
        },
        "steps": {
          "prd-synthesis": {
            "timeout": "30m",
            "resources": {
              "cpu": "1",
              "memory": "2Gi"
            }
          },
          "review-board": {
            "timeout": "20m",
            "concurrency": 5,
            "resources": {
              "cpu": "1",
              "memory": "1Gi"
            }
          },
          "quality-scoring": {
            "timeout": "15m",
            "resources": {
              "cpu": "500m",
              "memory": "1Gi"
            }
          }
        },
        "observability": {
          "tracing": {
            "enabled": true,
            "exporter": "otlp",
            "endpoint": "http://otel-collector:4317",
            "sample_rate": 0.1
          },
          "metrics": {
            "enabled": true,
            "exporter": "prometheus"
          },
          "logging": {
            "level": "info",
            "format": "json"
          }
        }
      },
      "config": {
        "namespace": "prd-agents",
        "helmChart": true,
        "imageRegistry": "ghcr.io/agentplexus",
        "resourceLimits": {
          "cpu": "2",
          "memory": "4Gi"
        }
      }
    }
  ]
}
